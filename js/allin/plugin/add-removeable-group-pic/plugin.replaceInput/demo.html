<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src="/v2/js/lib/jquery/jquery-1.8.0.min.js"></script>
    <script src="/v2/js/comm/main.js"></script>
    <script src="/v2/js/comm/comm.file.js"></script>
    <script src="/v2/js/plugins/add-removeable-group-pic/plugin.replaceInput/plugin.replaceInput.js"></script>
</head>
<body>

<h1>替换浏览图片按钮样式 DEMO </h1>
<hr/>
使用方法
<hr/>
浏览器默认样式 <br/>
<input type="file" name="" id="demo"    /> <br/>
<hr/>
<h3>替换按钮</h3>
<input type="file" name="" id="demo2"    /> <input type="button" value="替换样式" id="replc"/>
<br/>
<pre>
    $("#replc").on("click", function () {
        $("#demo2").replaceInput({
            html:"<div>上传照片</div>"
        });
    })

</pre>
<script>
    $("#replc").on("click", function () {
        $("#demo2").replaceInput({
            html:"<div>上传照片</div>"
        });
    })

</script>
<hr/>
<h3>替换按钮 选完照片后预览</h3>
<input type="file" name="" id="demo3"    /> <input type="button" value="替换样式" id="replc3"/>
<br/>
<div id="preview"></div>
<pre>
    $("#replc").on("click", function () {
        $("#demo2").replaceInput({
            html:"<div>上传照片</div>"
        });
    })

</pre>
<script>

    function readFile(){
        var file = $("#demo3").get(0);
        if(!/\.((jpg)|(png)|(bmp)|(gif))$/i.test(file.value)){
            alert('只允许上传.jpg .png .bmp .gif类型的文档文件');
            return false ;
        }
        var reader = new FileReader();
        reader.readAsDataURL(file.files[0]);
        reader.onload = function(e){
            $("#preview").html('<img src="'+this.result+'" alt=""/>');
        }
    }

    $("#replc3").on("click", function () {
        $("#demo3").replaceInput({
            html:"<div>上传照片</div>",
            onChangeHdl: function () {
                readFile();
            }
        });

    });

</script>
<script>

</script>
</body>
</html>